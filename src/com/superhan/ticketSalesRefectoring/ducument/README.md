# 리펙토링
코드를 조금 수정해보자.

소프트웨어의 세계는 객체를 의인화하여 사람이 할 수 있는 일을 객체가 대신하는 것과 같이 로직이 구성된다. 
때문에 이상한나라의 이야기처럼 들릴 수 있다. 

하지만 하나의 객체에 모든 책임이 몰리거나 의존성이 하나의 객체에 집중된다면, 이상한 나라의 균형은 깨지게된다. 

따라서 현재 극장 객체에 몰린 로직과 의존성을 분산하도록 한다. 
- 청중의 가방을 뒤쳐 티켓을 확인하는 로직
   - 청중의 가방은 청중이 참조하도록 캡슐화하고 필요한 처리를 내부에도 진행하도록 한다. 
   - 극장은 판매원에게 판매하도록 요청한다.(극장은 무엇을 판매하는지 신경쓰지 않고 청중에게 판매의 책임을 넘긴다.)
- 판매원은 요청받은 판매를 수행하여 관객에게 티켓을 판매한다. 
  - 판매의 책임은 다시 사무실에게 전가한다. 
- 티켓 사무실은 판매할 티켓을 고객에게 전달하고, 티켓의 가격만큼 창구의 돈을 증가한다. 
  - 이때 고객은 buy메서드를 호출하여 자신의 지갑에서 티켓의 가격만큼 차감한다. 
  - 계좌에 직접적인 교환이 이루어지지 않지만 논리적으로 거래시 이루어지는 금액 증가와 차감이 이루어지고있다.
  - 이상한 나라임을 잊지말자.
- 고객의 가방 역시 티켓을 받아 자신의 데이터를 스스로 업데이트 하도록 설계한다. 